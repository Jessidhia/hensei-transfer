javascript:!function(){var e,a;if(e=new XMLHttpRequest,a=new Date().getTime(),e.open("GET","https://raw.githubusercontent.com/Vazkii/hensei-transfer/main/version?_anti_cache_measures="+a,!1),e.send(),6!=e.response.trim()&&confirm("hensei-transfer has received an update. Please re-download the bookmarklet to ensure it's compatible with the latest changes, or click Cancel to proceed anyway.")){window.open("https://github.com/Vazkii/hensei-transfer","_blank");return}window.location.href.includes("game.granbluefantasy.jp")?function e(){var a,n,r,s,t,o,u,m;function l(e,a){let n=[210,220,230,240];var r=[];for(k in e){var s={},t=e[k],o=t.master,u=t.param;if(o&&u){s.name=o.name,s.id=o.id;var m=parseInt(u.evolution);if(s.uncap=m,m>5){var l=1,c=parseInt(u.level);for(k2 in n)if(c>n[k2])l++;else break;s.transcend=l}a&&u.id==a&&(s.qs=!0),r.push(s)}}return r}a=Game,n=function(e){var a,n,r;function s(e){return e}n=e=a=e,r=$("<textarea>"),$("body").append(r),r.text(n),r.select(),document.execCommand("copy"),r.remove(),alert("Copied team data to clipboard!")},s=(r=a.view.deck_model.attributes.deck).name,t=a.lang,o={},u=r.pc,o.lang=t,o.name=s,o.class=u.job.master.name,o.extra=u.isExtraDeck,o.friend_summon=u.damage_info.summon_name,(m=u.familiar_id)||(m=u.shield_id),m&&(o.accessory=m),o.subskills=function e(a){var n=[];for(var r in a){var s=a[r];n.push(s.name)}return n}(u.set_action),o.characters=function e(a){var n=[];for(k in a){var r={},s=a[k],t=s.master,o=s.param;if(t&&o){r.name=t.name,r.id=t.id,r.uncap=parseInt(o.evolution),o.has_npcaugment_constant&&(r.ringed=!0);var u=parseInt(o.phase);u>0&&(r.transcend=u),n.push(r)}}return n}(r.npc),o.weapons=function e(a){let n=[40,60,80,100,150],r=[[13],[3,13,19,27],[3,13,27]],s=[13,17,19];var t=[];for(k in a){var o={},u=a[k],m=u.master,l=u.param;if(m&&l){var c=parseInt(m.series_id);o.name=m.name;var d=m.id;if(s.includes(c)){var f=parseInt(m.attribute)-1;o.attr=f,d=`${parseInt(d)-100*f}`}o.id=d;var v=0,p=parseInt(l.level);for(k2 in n)if(p>n[k2])v++;else break;o.uncap=v;var h=l.arousal;if(h.is_arousal_weapon){var b={};b.type=h.form_name,b.lvl=h.level,o.awakening=b}var g=l.augment_skill_info;if(g.length>0){var _=g[0],w=[];for(k2 in _){var y={},x=_[k2];y.id=`${x.skill_id}`,y.val=x.show_value,w.push(y)}o.ax=w}var C=[];for(i in r)if(r[i].includes(c)){var j=`skill${parseInt(i)+1}`;j in u&&C.push(u[j].id)}C.length>0&&(o.keys=C),t.push(o)}}return t}(u.weapons),o.summons=l(u.summons,u.quick_user_summon_id),o.sub_summons=l(u.sub_summons,0),n(JSON.stringify(o))}():alert("Can only be used in game.granbluefantasy.jp")}();