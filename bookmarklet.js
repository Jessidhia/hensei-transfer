javascript:window.location.href.includes("app.granblue.team")?function n(){function a(n,a,t,o){var u=0;for(k in t){var c=t[k],p=c.name,l=c.id,d=c.uncap,m=r(n,"summons",{query:p},function(n){return n.granblue_id==l});if(m.length>0){var f=0==o&&0==u,v=u-1+o,g=e(n,"summons",v,{summon:{summon_id:m,party_id:n.party,position:v,main:f,friend:!1,uncap_level:d}}).grid_summon.id;"transcend"in c&&s(n,"grid_summons",g,"",{summon:{uncap_level:6,transcendence_step:c.transcend}},!0),u++}}if(a){var m=r(n,"summons",{query:a},function(n){return n.name.en==a});m.length>0&&e(n,"summons",v,{summon:{summon_id:m,party_id:n.party,position:6,main:!1,friend:!0}})}}function e(n,a,e,r){var t=o(n,a,r);return"conflicts"in t&&(t=o(n,`${a}/resolve`,{resolve:{conflicting:[t.conflicts[0].id],incoming:t.incoming.id,position:e}})),t}function r(n,a,e,r){return t(o(n,`search/${a}`,{search:e}).results,r)}function t(n,a){for(k in n){var e=n[k];if(a(e))return e.id}return n[0].id}function s(n,a,e,r,t,s){return u(n,"PUT",`${a}/${e}/${r}`,t,s)}function o(n,a,e){return u(n,"POST",a,e,!1)}function u(n,a,e,r,t){var s=new XMLHttpRequest,o=`https://hensei-api-production-66fb.up.railway.app/api/v1/${e}`;return(s.open(a,o,t),s.setRequestHeader("content-type","application/json"),s.setRequestHeader("authorization",`Bearer ${n.auth}`),void 0!=r?s.send(JSON.stringify(r)):s.send(),t)?"":JSON.parse(s.responseText)}!function n(c){var p=c.props.pageProps.context;if(null==p){alert("Please refresh the page to load important data, then try again.");return}var l=function n(){var a=document.cookie.match(RegExp("token\u002522\u00253A\u002522(.+?)\u002522"));if(a)return a[1]}();if(!l){alert("This import script only works for logged-in users, please log-in or create an account.");return}var d={data:p,auth:l},m=prompt("Paste your Export here");if(m){var f,v,g,h=JSON.parse(m);alert("Loading your team now, this may take a bit...");var y,b,_,w=(f=d,v=o(f,"parties",{}),{id:v.party.id,redirect:`/p/${v.party.shortcode}`});d.party=w.id,y=d,b=h.name,_=h.extra,s(y,"parties",y.party,"",{party:{name:b,extra:_}},!0),function n(a,e,o,c){var p=t(a.data.jobs,function(n){return n.name.en==e});if(p.length>0){if(s(a,"parties",a.party,"jobs",{party:{job_id:p}},!1),o.length>0){var l={},d=0;for(k in o){var m=o[k],f=r(a,"job_skills",{query:m,job:p,locale:"en"},function(n){return n.name.en==m});f.length>0&&(l[`skill${++d}_id`]=f)}var v=[];for(k in l){var g={};g[k]=l[k],"code"in s(a,"parties",a.party,"job_skills",{party:g},!1)&&v.push(g)}for(k in v)s(a,"parties",a.party,"job_skills",{party:v[k]},!0)}if(c){var h,y,b="jobs",_="accessories",w=(h=a,y=p,u(h,"GET",`${b}/${y}/${_}`,void 0,!1)),j=t(w,function(n){return n.granblue_id==c});s(a,"parties",a.party,"",{party:{accessory_id:j}})}}}(d,h.class,h.subskills,"accessory"in h?h.accessory:""),function n(a,t){var o=0;for(k in t){var u=t[k],c=u.name,p=u.id,l=u.uncap,d=r(a,"characters",{query:c},function(n){return n.granblue_id==p});if(d.length>0){var m=e(a,"characters",o,{character:{character_id:d,party_id:a.party,position:o,uncap_level:l}}).id;"ringed"in u&&u.ringed&&s(a,"grid_characters",m,"",{character:{perpetuity:!0}},!0),"transcend"in u&&s(a,"grid_characters",m,"",{character:{uncap_level:6,transcendence_step:u.transcend}},!0),o++}}}(d,h.characters),function n(a,t){let o=[0,2,3,4,1,6,5];var u=0;for(k in t){var c=t[k],p=c.name,l=c.id,d=c.uncap,m=r(a,"weapons",{query:p},function(n){return n.granblue_id==l});if(m.length>0){var f=0==u,v=u-1,g=e(a,"weapons",v,{weapon:{weapon_id:m,party_id:a.party,position:v,mainhand:f,uncap_level:d}}).grid_weapon.id;if("attr"in c&&s(a,"grid_weapons",g,"",{weapon:{element:o[c.attr+1]}},!0),"awakening"in c){var h,y=c.awakening;s(a,"grid_weapons",g,"",{weapon:{awakening_type:y.type,awakening_level:y.lvl}},!0)}u++}}}(d,h.weapons),a(d,h.friend_summon,h.summons,0),a(d,void 0,h.sub_summons,5);var j=w.redirect;j.length>0&&history.pushState({urlPath:j},"",j),location.reload()}}(__NEXT_DATA__)}():window.location.href.includes("game.granbluefantasy.jp")?function n(){var a,e,r,t,s,o,u,c;function p(n){let a=[210,220,230,240];var e=[];for(k in n){var r={},t=n[k],s=t.master,o=t.param;r.name=s.name,r.id=s.id;var u=parseInt(o.evolution);if(r.uncap=u,u>5){var c=1,p=parseInt(o.level);for(k2 in a)if(p>a[k2])c++;else break;r.transcend=c}e.push(r)}return e}r=(e=(a=Game).view.deck_model.attributes.deck).name,t={},s=e.pc,t.name=r,t.class=s.job.master.name,t.extra=s.isExtraDeck,t.friend_summon=s.damage_info.summon_name,(o=s.familiar_id)||(o=s.shield_id),o&&(t.accessory=o),t.subskills=function n(a){var e=[];for(var r in a){var t=a[r];e.push(t.name)}return e}(s.set_action),t.characters=function n(a){var e=[];for(k in a){var r={},t=a[k],s=t.master,o=t.param;r.name=s.name,r.id=s.id,r.uncap=parseInt(o.evolution),o.has_npcaugment_constant&&(r.ringed=!0);var u=parseInt(o.phase);u>0&&(r.transcend=u),e.push(r)}return e}(e.npc),t.weapons=function n(a){let e=[40,60,80,100,150],r=[[13],[3,13,19,27],[3,13,27]],t=[13,19];var s=[];for(k in a){var o={},u=a[k],c=u.master,p=u.param;if(c&&p){var l=parseInt(c.series_id);o.name=c.name;var d=c.id;if(t.includes(l)){var m=parseInt(c.attribute)-1;o.attr=m,d=`${parseInt(d)-100*m}`}o.id=d;var f=0,v=parseInt(p.level);for(k2 in e)if(v>e[k2])f++;else break;o.uncap=f;var g=p.arousal;if(g.is_arousal_weapon){var h={};h.type=g.form,h.lvl=g.level,o.awakening=h}var y=p.augment_skill_info;if(y.length>0){var b=y[0],_=[];for(k2 in b){var w={},j=b[k2];w.id=`${j.skill_id}`,w.val=j.effect_value,_.push(w)}o.ax=_}var x=[];for(i in r)if(r[i].includes(l)){var q=`skill${parseInt(i)+1}`;q in u&&x.push(u[q].id)}x.length>0&&(o.keys=x),s.push(o)}}return s}(s.weapons),t.summons=p(s.summons),t.sub_summons=p(s.sub_summons),u=JSON.stringify(t),c=$("<textarea>"),$("body").append(c),c.text(u),c.select(),document.execCommand("copy"),c.remove(),alert("Copied team data to clipboard!")}():alert("Can only be used in game.granbluefantasy.jp or app.granblue.team");