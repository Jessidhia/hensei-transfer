javascript:window.location.href.includes("app.granblue.team")?function n(){function a(n,a,t,s){var _=0;for(k in t){var u=t[k],c=u.name,p=u.id,l=u.uncap,d=r(n,"summons",{query:c},function(n){return n.granblue_id==p});if(d.length>0){var f=0==s&&0==_,m=_-1+s,v=e(n,"summons",m,{summon:{summon_id:d,party_id:n.party,position:m,main:f,friend:!1,uncap_level:l}}).grid_summon.id;"transcend"in u&&o(n,"grid_summons",v,"",{summon:{uncap_level:6,transcendence_step:u.transcend}},!0),_++}}if(a){var d=r(n,"summons",{query:a},function(e){return e.name[n.lang]==a});d.length>0&&e(n,"summons",m,{summon:{summon_id:d,party_id:n.party,position:6,main:!1,friend:!0}})}}function e(n,a,e,r){var t=_(n,a,r);return"conflicts"in t&&(t=_(n,`${a}/resolve`,{resolve:{conflicting:[t.conflicts[0].id],incoming:t.incoming.id,position:e}})),t}function r(n,a,e,r){return t(_(n,`search/${a}`,{search:e}).results,r)}function t(n,a){for(k in n){var e=n[k];if(a(e))return e.id}return n[0].id}function s(n,a){return u(n,"GET",a,void 0,!1)}function o(n,a,e,r,t,s){return u(n,"PUT",`${a}/${e}/${r}`,t,s)}function _(n,a,e){return u(n,"POST",a,e,!1)}function u(n,a,e,r,t){var s=new XMLHttpRequest,o=`https://hensei-api-production-66fb.up.railway.app/api/v1/${e}`;return(s.open(a,o,t),s.setRequestHeader("content-type","application/json"),s.setRequestHeader("authorization",`Bearer ${n.auth}`),void 0!=r?s.send(JSON.stringify(r)):s.send(),t)?"":JSON.parse(s.responseText)}!function n(u){var c=u.props.pageProps.context;if(null==c){alert("Please refresh the page to load important data, then try again.");return}var p=function n(){var a=document.cookie.match(RegExp("token\u002522\u00253A\u002522(.+?)\u002522"));if(a)return a[1]}();if(!p){alert("This import script only works for logged-in users, please log-in or create an account.");return}var l={data:c,auth:p},d=prompt("Paste your Export here");if(d){var f,m,v,g=JSON.parse(d);alert("Loading your team now, this may take a bit...");var y,h,b,w=(f=l,m=_(f,"parties",{}),{id:m.party.id,redirect:`/p/${m.party.shortcode}`});l.party=w.id,l.lang=g.lang,y=l,h=g.name,b=g.extra,o(y,"parties",y.party,"",{party:{name:h,extra:b}},!0),function n(a,e,_,u){var c=t(a.data.jobs,function(n){return n.name[a.lang]==e});if(c.length>0){if(o(a,"parties",a.party,"jobs",{party:{job_id:c}},!1),_.length>0){var p={},l=0;for(k in _){var d=_[k],f=r(a,"job_skills",{query:d,job:c,locale:a.lang},function(n){return n.name[a.lang]==d});f.length>0&&(p[`skill${++l}_id`]=f)}var m=[];for(k in p){var v={};v[k]=p[k],"code"in o(a,"parties",a.party,"job_skills",{party:v},!1)&&m.push(v)}for(k in m)o(a,"parties",a.party,"job_skills",{party:m[k]},!0)}if(u){var g=s(a,`jobs/${c}/accessories`),y=t(g,function(n){return n.granblue_id==u});o(a,"parties",a.party,"",{party:{accessory_id:y}})}}}(l,g.class,g.subskills,"accessory"in g?g.accessory:""),function n(a,t){var s=0;for(k in t){var _=t[k],u=_.name,c=_.id,p=_.uncap,l=r(a,"characters",{query:u},function(n){return n.granblue_id==c});if(l.length>0){var d=e(a,"characters",s,{character:{character_id:l,party_id:a.party,position:s,uncap_level:p}}).id;"ringed"in _&&_.ringed&&o(a,"grid_characters",d,"",{character:{perpetuity:!0}},!0),"transcend"in _&&o(a,"grid_characters",d,"",{character:{uncap_level:6,transcendence_step:_.transcend}},!0),s++}}}(l,g.characters),function n(a,_){let u=[0,2,3,4,1,6,5],c={k13001:"1240",k13002:"1241",k13003:"1242",k13004:"1243",k14014:"1723",k14015:"1724",k14016:"1725",k14017:"1726",k10001:"697-706",k10002:"707-716",k10003:"717-726",k10004:"727-736",k10005:"737-746",k10006:"747-756",k11001:"758",k11002:"759",k11003:"760",k11004:"761",k17001:"1807",k17002:"1808",k17003:"1809",k17004:"1810",k15001:"1446",k15002:"1447",k15003:"1448",k15004:"1449",k15005:"1450",k15006:"1451",k15007:"1452",k16001:"1228-1233",k16002:"1234-1239",k14001:["502-506","1213-1218"],k14002:["130-135","71-76"],k14003:["1260-1265","1266-1271"],k14004:["1199-1204","1205-1210"],k14011:["322-327","1310-1315"],k14012:["764-769","1731-1735","948"],k14013:["1171-1176","1736-1741"]},p=["1589","1590","1588","1591","1592","1596","1597","1588","1599","1593","1595","1601","1600","1594","1722","1719","1720","1721","1837","1838"];var l=0;for(k in _){var d=_[k],f=d.name,m=d.id,v=d.uncap,g=r(a,"weapons",{query:f},function(n){return n.granblue_id==m});if(g.length>0){var y=0==l,h=l-1,b=e(a,"weapons",h,{weapon:{weapon_id:g,party_id:a.party,position:h,mainhand:y,uncap_level:v}}),w=b.grid_weapon.id;if("attr"in d&&o(a,"grid_weapons",w,"",{weapon:{element:u[d.attr+1]}},!0),"awakening"in d){var x,j=d.awakening;o(a,"grid_weapons",w,"",{weapon:{awakening_type:j.type,awakening_level:j.lvl}},!0)}if("keys"in d){var q=d.keys,P=b.grid_weapon.object.series;for(k2 in q){var T=q[k2],C=s(a,`weapon_keys?series=${P}&slot=${k2}`),E=t(C,function(n){var a=`k${n.granblue_id}`;if(a in c){var e=c[a];function r(n){if(n.includes("-")){var a=n.split("-"),e=parseInt(a[0]),r=parseInt(a[1]);return T>=e&&T<=r}return parseInt(n)==T}if("string"==typeof e)return r(e);for(H in e)if(r(e[H]))return!0}return!1}),H=parseInt(k2)+1,R={};R[`weapon_key${H}_id`]=E,o(a,"grid_weapons",w,"",{weapon:R},!0)}}if("ax"in d){var S=d.ax,z={};for(k2 in S){var A=S[k2],B=A.id,D=p.findIndex(n=>n==B),G=parseInt(k2)+1;z[`ax_modifier${G}`]=D,z[`ax_strength${G}`]=A.val}o(a,"grid_weapons",w,"",{weapon:z},!0)}l++}}}(l,g.weapons),a(l,g.friend_summon,g.summons,0),a(l,void 0,g.sub_summons,5);var x=w.redirect;x.length>0&&history.pushState({urlPath:x},"",x)}}(__NEXT_DATA__)}():window.location.href.includes("game.granbluefantasy.jp")?function n(){var a,e,r,t,s,o,_,u,c;function p(n){let a=[210,220,230,240];var e=[];for(k in n){var r={},t=n[k],s=t.master,o=t.param;r.name=s.name,r.id=s.id;var _=parseInt(o.evolution);if(r.uncap=_,_>5){var u=1,c=parseInt(o.level);for(k2 in a)if(c>a[k2])u++;else break;r.transcend=u}e.push(r)}return e}r=(e=(a=Game).view.deck_model.attributes.deck).name,t=a.lang,s={},o=e.pc,s.lang=t,s.name=r,s.class=o.job.master.name,s.extra=o.isExtraDeck,s.friend_summon=o.damage_info.summon_name,(_=o.familiar_id)||(_=o.shield_id),_&&(s.accessory=_),s.subskills=function n(a){var e=[];for(var r in a){var t=a[r];e.push(t.name)}return e}(o.set_action),s.characters=function n(a){var e=[];for(k in a){var r={},t=a[k],s=t.master,o=t.param;r.name=s.name,r.id=s.id,r.uncap=parseInt(o.evolution),o.has_npcaugment_constant&&(r.ringed=!0);var _=parseInt(o.phase);_>0&&(r.transcend=_),e.push(r)}return e}(e.npc),s.weapons=function n(a){let e=[40,60,80,100,150],r=[[13],[3,13,19,27],[3,13,27]],t=[13,19];var s=[];for(k in a){var o={},_=a[k],u=_.master,c=_.param;if(u&&c){var p=parseInt(u.series_id);o.name=u.name;var l=u.id;if(t.includes(p)){var d=parseInt(u.attribute)-1;o.attr=d,l=`${parseInt(l)-100*d}`}o.id=l;var f=0,m=parseInt(c.level);for(k2 in e)if(m>e[k2])f++;else break;o.uncap=f;var v=c.arousal;if(v.is_arousal_weapon){var g={};g.type=v.form,g.lvl=v.level,o.awakening=g}var y=c.augment_skill_info;if(y.length>0){var h=y[0],b=[];for(k2 in h){var w={},x=h[k2];w.id=`${x.skill_id}`,w.val=x.effect_value,b.push(w)}o.ax=b}var j=[];for(i in r)if(r[i].includes(p)){var q=`skill${parseInt(i)+1}`;q in _&&j.push(_[q].id)}j.length>0&&(o.keys=j),s.push(o)}}return s}(o.weapons),s.summons=p(o.summons),s.sub_summons=p(o.sub_summons),u=JSON.stringify(s),c=$("<textarea>"),$("body").append(c),c.text(u),c.select(),document.execCommand("copy"),c.remove(),alert("Copied team data to clipboard!")}():alert("Can only be used in game.granbluefantasy.jp or app.granblue.team");